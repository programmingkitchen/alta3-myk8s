2021-07-10 14:56:26,923 p=22335 u=student n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. 
Current version: 3.6.9 (default, Jan 26 2021, 15:33:00) [GCC 8.4.0]. This feature will be removed from ansible-
core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2021-07-10 14:56:27,745 p=22335 u=student n=ansible | PLAY [bootstrap] ***********************************************************************************************
2021-07-10 14:56:30,342 p=22335 u=student n=ansible | TASK [Gathering Facts] *****************************************************************************************
2021-07-10 14:56:30,342 p=22335 u=student n=ansible | ok: [node-1]
2021-07-10 14:56:30,365 p=22335 u=student n=ansible | ok: [node-2]
2021-07-10 14:56:30,403 p=22335 u=student n=ansible | ok: [master-1]
2021-07-10 14:56:30,427 p=22335 u=student n=ansible | ok: [master-3]
2021-07-10 14:56:30,434 p=22335 u=student n=ansible | ok: [master-2]
2021-07-10 14:56:32,716 p=22335 u=student n=ansible | ok: [node-3]
2021-07-10 14:56:37,858 p=22335 u=student n=ansible | TASK [bootstrap : raw apt update 1] ****************************************************************************
2021-07-10 14:56:37,860 p=22335 u=student n=ansible | changed: [master-2]
2021-07-10 14:56:38,586 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 14:56:38,607 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 14:56:38,678 p=22335 u=student n=ansible | changed: [master-3]
2021-07-10 14:56:38,747 p=22335 u=student n=ansible | changed: [master-1]
2021-07-10 14:56:43,252 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 14:56:50,516 p=22335 u=student n=ansible | TASK [bootstrap : raw apt upgrade 1] ***************************************************************************
2021-07-10 14:56:50,518 p=22335 u=student n=ansible | changed: [master-1]
2021-07-10 14:56:50,564 p=22335 u=student n=ansible | changed: [master-2]
2021-07-10 14:56:50,628 p=22335 u=student n=ansible | changed: [master-3]
2021-07-10 14:56:50,660 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 14:56:50,681 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 14:56:57,819 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 14:57:00,324 p=22335 u=student n=ansible | TASK [bootstrap : raw apt update 2] ****************************************************************************
2021-07-10 14:57:00,325 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 14:57:00,459 p=22335 u=student n=ansible | changed: [master-1]
2021-07-10 14:57:00,480 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 14:57:00,515 p=22335 u=student n=ansible | changed: [master-2]
2021-07-10 14:57:00,568 p=22335 u=student n=ansible | changed: [master-3]
2021-07-10 14:57:02,533 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 14:57:03,434 p=22335 u=student n=ansible | TASK [bootstrap : raw apt upgrade 2] ***************************************************************************
2021-07-10 14:57:03,435 p=22335 u=student n=ansible | changed: [master-1]
2021-07-10 14:57:03,473 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 14:57:03,487 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 14:57:03,518 p=22335 u=student n=ansible | changed: [master-2]
2021-07-10 14:57:03,547 p=22335 u=student n=ansible | changed: [master-3]
2021-07-10 14:57:04,169 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 14:57:10,528 p=22335 u=student n=ansible | TASK [bootstrap : raw apt install python] **********************************************************************
2021-07-10 14:57:10,529 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 14:57:10,574 p=22335 u=student n=ansible | changed: [master-1]
2021-07-10 14:57:10,726 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 14:57:10,775 p=22335 u=student n=ansible | changed: [master-2]
2021-07-10 14:57:10,806 p=22335 u=student n=ansible | changed: [master-3]
2021-07-10 14:57:16,491 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 14:57:18,482 p=22335 u=student n=ansible | TASK [bootstrap : Update /etc/hosts on all systems] ************************************************************
2021-07-10 14:57:18,485 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 14:57:18,493 p=22335 u=student n=ansible | changed: [master-3]
2021-07-10 14:57:18,498 p=22335 u=student n=ansible | changed: [master-1]
2021-07-10 14:57:18,500 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 14:57:18,518 p=22335 u=student n=ansible | changed: [master-2]
2021-07-10 14:57:19,482 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 14:57:19,584 p=22335 u=student n=ansible | PLAY [make certs & gen configs] ********************************************************************************
2021-07-10 14:57:20,639 p=22335 u=student n=ansible | TASK [Gathering Facts] *****************************************************************************************
2021-07-10 14:57:20,640 p=22335 u=student n=ansible | ok: [localhost]
2021-07-10 14:57:21,212 p=22335 u=student n=ansible | TASK [make_certs : Create cert directories] ********************************************************************
2021-07-10 14:57:21,214 p=22335 u=student n=ansible | changed: [localhost] => (item=/home/student/k8s-certs)
2021-07-10 14:57:21,472 p=22335 u=student n=ansible | changed: [localhost] => (item=/home/student/k8s-config)
2021-07-10 14:57:21,757 p=22335 u=student n=ansible | changed: [localhost] => (item=/home/student/k8s-config/csr/)
2021-07-10 14:57:23,290 p=22335 u=student n=ansible | TASK [make_certs : Install dependencies with get_url -> cfssl, cfssljson, kubectl] *****************************
2021-07-10 14:57:23,294 p=22335 u=student n=ansible | changed: [localhost] => (item={'url': 'https://github.com/cloudflare/cfssl/releases/download/v1.4.1/cfssl_1.4.1_linux_amd64', 'dest': '/usr/local/bin/cfssl', 'mode': '0755'})
2021-07-10 14:57:24,419 p=22335 u=student n=ansible | changed: [localhost] => (item={'url': 'https://github.com/cloudflare/cfssl/releases/download/v1.4.1/cfssljson_1.4.1_linux_amd64', 'dest': '/usr/local/bin/cfssljson', 'mode': '0755'})
2021-07-10 14:57:26,568 p=22335 u=student n=ansible | changed: [localhost] => (item={'url': 'https://storage.googleapis.com/kubernetes-release/release/v1.18.0/bin/linux/amd64/kubectl', 'dest': '/usr/local/bin/kubectl', 'mode': '0755'})
2021-07-10 14:57:27,120 p=22335 u=student n=ansible | TASK [make_certs : Deploy configuration templates] *************************************************************
2021-07-10 14:57:27,123 p=22335 u=student n=ansible | changed: [localhost] => (item=ca-config)
2021-07-10 14:57:27,750 p=22335 u=student n=ansible | TASK [make_certs : Deploy certificate generation (csr) templates] **********************************************
2021-07-10 14:57:27,751 p=22335 u=student n=ansible | changed: [localhost] => (item=ca)
2021-07-10 14:57:28,287 p=22335 u=student n=ansible | changed: [localhost] => (item=admin)
2021-07-10 14:57:28,835 p=22335 u=student n=ansible | changed: [localhost] => (item=kube-controller-manager)
2021-07-10 14:57:29,381 p=22335 u=student n=ansible | changed: [localhost] => (item=kube-proxy)
2021-07-10 14:57:29,903 p=22335 u=student n=ansible | changed: [localhost] => (item=kube-scheduler)
2021-07-10 14:57:30,436 p=22335 u=student n=ansible | changed: [localhost] => (item=kubernetes)
2021-07-10 14:57:30,922 p=22335 u=student n=ansible | changed: [localhost] => (item=registry-web)
2021-07-10 14:57:31,382 p=22335 u=student n=ansible | changed: [localhost] => (item=front-proxy-client)
2021-07-10 14:57:31,999 p=22335 u=student n=ansible | TASK [make_certs : Generate misc service configuration templates] **********************************************
2021-07-10 14:57:32,000 p=22335 u=student n=ansible | changed: [localhost] => (item={'src': '/home/student/git/kubernetes-the-alta3-way/roles/make_certs/templates/kube-scheduler.yaml.j2', 'dest': '/home/student/k8s-config/kube-scheduler.yaml'})
2021-07-10 14:57:32,582 p=22335 u=student n=ansible | TASK [make_certs : Generate the certificate config file for nodes (file same on all nodes)] ********************
2021-07-10 14:57:32,583 p=22335 u=student n=ansible | changed: [localhost] => (item=node-1)
2021-07-10 14:57:33,149 p=22335 u=student n=ansible | changed: [localhost] => (item=node-2)
2021-07-10 14:57:33,724 p=22335 u=student n=ansible | changed: [localhost] => (item=node-3)
2021-07-10 14:57:34,407 p=22335 u=student n=ansible | TASK [make_certs : Generate a self-signed CA cert and private key for the k8s cloud] ***************************
2021-07-10 14:57:34,408 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:57:35,457 p=22335 u=student n=ansible | TASK [make_certs : Generate Certificate and private key for k8s API server and etcd] ***************************
2021-07-10 14:57:35,457 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:57:35,972 p=22335 u=student n=ansible | TASK [make_certs : Generate admin certificates] ****************************************************************
2021-07-10 14:57:35,974 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:57:36,479 p=22335 u=student n=ansible | TASK [make_certs : Generate kube-controller-manager client cert and private key] *******************************
2021-07-10 14:57:36,480 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:57:37,102 p=22335 u=student n=ansible | TASK [make_certs : Generate kube-proxy client cert and private key] ********************************************
2021-07-10 14:57:37,103 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:57:37,714 p=22335 u=student n=ansible | TASK [make_certs : Generate kube-scheduler client cert and private key] ****************************************
2021-07-10 14:57:37,714 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:57:38,354 p=22335 u=student n=ansible | TASK [make_certs : Generate registry web cert and private key] *************************************************
2021-07-10 14:57:38,355 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:57:38,901 p=22335 u=student n=ansible | TASK [make_certs : Generate front-proxy-client (kube-apiserver aggregation layer) cert and private key] ********
2021-07-10 14:57:38,902 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:57:39,700 p=22335 u=student n=ansible | TASK [make_certs : Generate the specific certificate and Private key for each node when it does not already exist] ***
2021-07-10 14:57:39,701 p=22335 u=student n=ansible | changed: [localhost] => (item=node-1)
2021-07-10 14:57:40,662 p=22335 u=student n=ansible | changed: [localhost] => (item=node-2)
2021-07-10 14:57:41,290 p=22335 u=student n=ansible | changed: [localhost] => (item=node-3)
2021-07-10 14:57:41,785 p=22335 u=student n=ansible | TASK [make_certs : Discover if encryption config has already been generated] ***********************************
2021-07-10 14:57:41,787 p=22335 u=student n=ansible | ok: [localhost]
2021-07-10 14:57:42,134 p=22335 u=student n=ansible | TASK [make_certs : Generate an encryption key] *****************************************************************
2021-07-10 14:57:42,135 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:57:42,744 p=22335 u=student n=ansible | TASK [make_certs : Generate the encryption config file] ********************************************************
2021-07-10 14:57:42,744 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:57:43,111 p=22335 u=student n=ansible | TASK [make_certs : Create symbolic links to all generated certificates (k8s best practice names)] **************
2021-07-10 14:57:43,112 p=22335 u=student n=ansible | changed: [localhost] => (item=ca)
2021-07-10 14:57:43,400 p=22335 u=student n=ansible | changed: [localhost] => (item=admin)
2021-07-10 14:57:43,670 p=22335 u=student n=ansible | changed: [localhost] => (item=kube-controller-manager)
2021-07-10 14:57:43,969 p=22335 u=student n=ansible | changed: [localhost] => (item=kube-proxy)
2021-07-10 14:57:44,268 p=22335 u=student n=ansible | changed: [localhost] => (item=kube-scheduler)
2021-07-10 14:57:44,538 p=22335 u=student n=ansible | changed: [localhost] => (item=kubernetes)
2021-07-10 14:57:44,842 p=22335 u=student n=ansible | changed: [localhost] => (item=registry-web)
2021-07-10 14:57:45,140 p=22335 u=student n=ansible | changed: [localhost] => (item=front-proxy-client)
2021-07-10 14:57:45,521 p=22335 u=student n=ansible | TASK [make_certs : Create symbolic links to all generated keys (k8s best practice names)] **********************
2021-07-10 14:57:45,522 p=22335 u=student n=ansible | changed: [localhost] => (item=ca)
2021-07-10 14:57:45,815 p=22335 u=student n=ansible | changed: [localhost] => (item=admin)
2021-07-10 14:57:46,115 p=22335 u=student n=ansible | changed: [localhost] => (item=kube-controller-manager)
2021-07-10 14:57:46,369 p=22335 u=student n=ansible | changed: [localhost] => (item=kube-proxy)
2021-07-10 14:57:46,630 p=22335 u=student n=ansible | changed: [localhost] => (item=kube-scheduler)
2021-07-10 14:57:46,884 p=22335 u=student n=ansible | changed: [localhost] => (item=kubernetes)
2021-07-10 14:57:47,142 p=22335 u=student n=ansible | changed: [localhost] => (item=registry-web)
2021-07-10 14:57:47,398 p=22335 u=student n=ansible | changed: [localhost] => (item=front-proxy-client)
2021-07-10 14:57:47,820 p=22335 u=student n=ansible | TASK [kube_config : Setup the config file for each node] *******************************************************
2021-07-10 14:57:47,821 p=22335 u=student n=ansible | changed: [localhost] => (item=node-1)
2021-07-10 14:57:48,168 p=22335 u=student n=ansible | changed: [localhost] => (item=node-2)
2021-07-10 14:57:48,543 p=22335 u=student n=ansible | changed: [localhost] => (item=node-3)
2021-07-10 14:57:48,990 p=22335 u=student n=ansible | TASK [kube_config : Setup the credentials for each node] *******************************************************
2021-07-10 14:57:48,992 p=22335 u=student n=ansible | changed: [localhost] => (item=node-1)
2021-07-10 14:57:49,348 p=22335 u=student n=ansible | changed: [localhost] => (item=node-2)
2021-07-10 14:57:49,734 p=22335 u=student n=ansible | changed: [localhost] => (item=node-3)
2021-07-10 14:57:50,187 p=22335 u=student n=ansible | TASK [kube_config : Setup the context default for each node] ***************************************************
2021-07-10 14:57:50,188 p=22335 u=student n=ansible | changed: [localhost] => (item=node-1)
2021-07-10 14:57:50,576 p=22335 u=student n=ansible | changed: [localhost] => (item=node-2)
2021-07-10 14:57:50,930 p=22335 u=student n=ansible | changed: [localhost] => (item=node-3)
2021-07-10 14:57:51,383 p=22335 u=student n=ansible | TASK [kube_config : Setup the use-context default for each node] ***********************************************
2021-07-10 14:57:51,384 p=22335 u=student n=ansible | changed: [localhost] => (item=node-1)
2021-07-10 14:57:51,761 p=22335 u=student n=ansible | changed: [localhost] => (item=node-2)
2021-07-10 14:57:52,139 p=22335 u=student n=ansible | changed: [localhost] => (item=node-3)
2021-07-10 14:57:52,613 p=22335 u=student n=ansible | TASK [kube_config : auth kubeconfig files - multiple services - create] ****************************************
2021-07-10 14:57:52,614 p=22335 u=student n=ansible | changed: [localhost] => (item=config=kube-proxy.kubeconfig)
2021-07-10 14:57:52,958 p=22335 u=student n=ansible | changed: [localhost] => (item=config=kube-controller-manager.kubeconfig)
2021-07-10 14:57:53,339 p=22335 u=student n=ansible | changed: [localhost] => (item=config=kube-scheduler.kubeconfig)
2021-07-10 14:57:53,716 p=22335 u=student n=ansible | changed: [localhost] => (item=config=admin.kubeconfig)
2021-07-10 14:57:54,190 p=22335 u=student n=ansible | TASK [kube_config : auth kubeconfig - multiple services - set credentials] *************************************
2021-07-10 14:57:54,192 p=22335 u=student n=ansible | changed: [localhost] => (item=config=kube-proxy.kubeconfig)
2021-07-10 14:57:54,518 p=22335 u=student n=ansible | changed: [localhost] => (item=config=kube-controller-manager.kubeconfig)
2021-07-10 14:57:54,884 p=22335 u=student n=ansible | changed: [localhost] => (item=config=kube-scheduler.kubeconfig)
2021-07-10 14:57:55,242 p=22335 u=student n=ansible | changed: [localhost] => (item=config=admin.kubeconfig)
2021-07-10 14:57:55,722 p=22335 u=student n=ansible | TASK [kube_config : auth kubeconfig - multiple services - set context] *****************************************
2021-07-10 14:57:55,724 p=22335 u=student n=ansible | changed: [localhost] => (item=config=kube-proxy.kubeconfig)
2021-07-10 14:57:56,073 p=22335 u=student n=ansible | changed: [localhost] => (item=config=kube-controller-manager.kubeconfig)
2021-07-10 14:57:56,420 p=22335 u=student n=ansible | changed: [localhost] => (item=config=kube-scheduler.kubeconfig)
2021-07-10 14:57:56,781 p=22335 u=student n=ansible | changed: [localhost] => (item=config=admin.kubeconfig)
2021-07-10 14:57:57,297 p=22335 u=student n=ansible | TASK [kube_config : auth kubeconfig - muiltiple services - use context] ****************************************
2021-07-10 14:57:57,299 p=22335 u=student n=ansible | changed: [localhost] => (item=config=kube-proxy.kubeconfig)
2021-07-10 14:57:57,656 p=22335 u=student n=ansible | changed: [localhost] => (item=config=kube-controller-manager.kubeconfig)
2021-07-10 14:57:57,993 p=22335 u=student n=ansible | changed: [localhost] => (item=config=kube-scheduler.kubeconfig)
2021-07-10 14:57:58,332 p=22335 u=student n=ansible | changed: [localhost] => (item=config=admin.kubeconfig)
2021-07-10 14:57:58,750 p=22335 u=student n=ansible | TASK [localhost_config : bchd-k8s-config - setup localhost loadbalancer for kubectl (as admin)] ****************
2021-07-10 14:57:58,751 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:57:59,165 p=22335 u=student n=ansible | TASK [localhost_config : bchd-k8s-config - setup creds for admin user] *****************************************
2021-07-10 14:57:59,166 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:57:59,554 p=22335 u=student n=ansible | TASK [localhost_config : bchd-k8s-config - setup context for the admin user] ***********************************
2021-07-10 14:57:59,555 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:57:59,963 p=22335 u=student n=ansible | TASK [localhost_config : bchd-k8s-config - setup use-context for the admin user] *******************************
2021-07-10 14:57:59,964 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 14:58:00,000 p=22335 u=student n=ansible | PLAY [deploy etcd] *********************************************************************************************
2021-07-10 14:58:01,066 p=22335 u=student n=ansible | TASK [Gathering Facts] *****************************************************************************************
2021-07-10 14:58:01,068 p=22335 u=student n=ansible | ok: [master-2]
2021-07-10 14:58:01,089 p=22335 u=student n=ansible | ok: [master-1]
2021-07-10 14:58:01,118 p=22335 u=student n=ansible | ok: [master-3]
2021-07-10 14:58:01,607 p=22335 u=student n=ansible | TASK [etcd : Create etcd directories] **************************************************************************
2021-07-10 14:58:01,608 p=22335 u=student n=ansible | changed: [master-1]
2021-07-10 14:58:01,629 p=22335 u=student n=ansible | changed: [master-2]
2021-07-10 14:58:01,693 p=22335 u=student n=ansible | changed: [master-3]
2021-07-10 14:58:02,629 p=22335 u=student n=ansible | TASK [etcd : Copy Certs and Config to Masters] *****************************************************************
2021-07-10 14:58:02,630 p=22335 u=student n=ansible | changed: [master-2] => (item={'source': '/home/student/k8s-certs/ca.pem', 'dest': '/etc/etcd//ca.pem', 'mode': '0664'})
2021-07-10 14:58:02,632 p=22335 u=student n=ansible | changed: [master-1] => (item={'source': '/home/student/k8s-certs/ca.pem', 'dest': '/etc/etcd//ca.pem', 'mode': '0664'})
2021-07-10 14:58:02,673 p=22335 u=student n=ansible | changed: [master-3] => (item={'source': '/home/student/k8s-certs/ca.pem', 'dest': '/etc/etcd//ca.pem', 'mode': '0664'})
2021-07-10 14:58:03,457 p=22335 u=student n=ansible | changed: [master-3] => (item={'source': '/home/student/k8s-certs/kubernetes.pem', 'dest': '/etc/etcd//kubernetes.pem', 'mode': '0664'})
2021-07-10 14:58:03,484 p=22335 u=student n=ansible | changed: [master-1] => (item={'source': '/home/student/k8s-certs/kubernetes.pem', 'dest': '/etc/etcd//kubernetes.pem', 'mode': '0664'})
2021-07-10 14:58:03,498 p=22335 u=student n=ansible | changed: [master-2] => (item={'source': '/home/student/k8s-certs/kubernetes.pem', 'dest': '/etc/etcd//kubernetes.pem', 'mode': '0664'})
2021-07-10 14:58:04,274 p=22335 u=student n=ansible | changed: [master-1] => (item={'source': '/home/student/k8s-certs/kubernetes-key.pem', 'dest': '/etc/etcd//kubernetes-key.pem', 'mode': '0600'})
2021-07-10 14:58:04,283 p=22335 u=student n=ansible | changed: [master-3] => (item={'source': '/home/student/k8s-certs/kubernetes-key.pem', 'dest': '/etc/etcd//kubernetes-key.pem', 'mode': '0600'})
2021-07-10 14:58:04,309 p=22335 u=student n=ansible | changed: [master-2] => (item={'source': '/home/student/k8s-certs/kubernetes-key.pem', 'dest': '/etc/etcd//kubernetes-key.pem', 'mode': '0600'})
2021-07-10 14:58:07,631 p=22335 u=student n=ansible | TASK [etcd : Unpack the etcd binaries on each master] **********************************************************
2021-07-10 14:58:07,632 p=22335 u=student n=ansible | changed: [master-3]
2021-07-10 14:58:08,033 p=22335 u=student n=ansible | changed: [master-2]
2021-07-10 14:58:08,106 p=22335 u=student n=ansible | changed: [master-1]
2021-07-10 14:58:08,756 p=22335 u=student n=ansible | TASK [etcd : Move etcd binaries to /usr/local/bin path] ********************************************************
2021-07-10 14:58:08,757 p=22335 u=student n=ansible | changed: [master-1] => (item={'source': '/tmp/etcd-v3.4.6-linux-amd64/etcd', 'dest': '/usr/local/bin/etcd'})
2021-07-10 14:58:08,799 p=22335 u=student n=ansible | changed: [master-2] => (item={'source': '/tmp/etcd-v3.4.6-linux-amd64/etcd', 'dest': '/usr/local/bin/etcd'})
2021-07-10 14:58:08,825 p=22335 u=student n=ansible | changed: [master-3] => (item={'source': '/tmp/etcd-v3.4.6-linux-amd64/etcd', 'dest': '/usr/local/bin/etcd'})
2021-07-10 14:58:09,297 p=22335 u=student n=ansible | changed: [master-1] => (item={'source': '/tmp/etcd-v3.4.6-linux-amd64/etcdctl', 'dest': '/usr/local/bin/etcdctl'})
2021-07-10 14:58:09,304 p=22335 u=student n=ansible | changed: [master-2] => (item={'source': '/tmp/etcd-v3.4.6-linux-amd64/etcdctl', 'dest': '/usr/local/bin/etcdctl'})
2021-07-10 14:58:09,331 p=22335 u=student n=ansible | changed: [master-3] => (item={'source': '/tmp/etcd-v3.4.6-linux-amd64/etcdctl', 'dest': '/usr/local/bin/etcdctl'})
2021-07-10 14:58:10,475 p=22335 u=student n=ansible | TASK [etcd : Push etcd service config] *************************************************************************
2021-07-10 14:58:10,475 p=22335 u=student n=ansible | changed: [master-1]
2021-07-10 14:58:10,511 p=22335 u=student n=ansible | changed: [master-3]
2021-07-10 14:58:10,580 p=22335 u=student n=ansible | changed: [master-2]
2021-07-10 14:58:11,200 p=22335 u=student n=ansible | TASK [etcd : Reload systemd manager] ***************************************************************************
2021-07-10 14:58:11,201 p=22335 u=student n=ansible | changed: [master-1]
2021-07-10 14:58:11,232 p=22335 u=student n=ansible | changed: [master-2]
2021-07-10 14:58:11,274 p=22335 u=student n=ansible | changed: [master-3]
2021-07-10 14:58:14,980 p=22335 u=student n=ansible | TASK [etcd : Reload the daemon for the services] ***************************************************************
2021-07-10 14:58:14,981 p=22335 u=student n=ansible | changed: [master-2]
2021-07-10 14:58:14,990 p=22335 u=student n=ansible | changed: [master-1]
2021-07-10 14:58:14,996 p=22335 u=student n=ansible | changed: [master-3]
2021-07-10 14:58:15,063 p=22335 u=student n=ansible | PLAY [deploy k8s masters] **************************************************************************************
2021-07-10 14:58:16,135 p=22335 u=student n=ansible | TASK [Gathering Facts] *****************************************************************************************
2021-07-10 14:58:16,136 p=22335 u=student n=ansible | ok: [master-1]
2021-07-10 14:58:17,171 p=22335 u=student n=ansible | ok: [master-3]
2021-07-10 14:58:17,209 p=22335 u=student n=ansible | ok: [master-2]
2021-07-10 14:58:17,703 p=22335 u=student n=ansible | TASK [master_install : Create k8s directories on masters] ******************************************************
2021-07-10 14:58:17,704 p=22335 u=student n=ansible | ok: [master-1] => (item=/var/lib/etcd)
2021-07-10 14:58:17,722 p=22335 u=student n=ansible | ok: [master-2] => (item=/var/lib/etcd)
2021-07-10 14:58:17,743 p=22335 u=student n=ansible | ok: [master-3] => (item=/var/lib/etcd)
2021-07-10 14:58:18,145 p=22335 u=student n=ansible | changed: [master-2] => (item=/var/lib/kubernetes)
2021-07-10 14:58:18,148 p=22335 u=student n=ansible | changed: [master-1] => (item=/var/lib/kubernetes)
2021-07-10 14:58:18,158 p=22335 u=student n=ansible | changed: [master-3] => (item=/var/lib/kubernetes)
2021-07-10 14:58:19,142 p=22335 u=student n=ansible | TASK [master_install : Copy Certs and Config to Masters] *******************************************************
2021-07-10 14:58:19,143 p=22335 u=student n=ansible | changed: [master-2] => (item={'src': '/home/student/k8s-certs/ca.pem', 'dest': '/var/lib/kubernetes/ca.pem', 'mode': '0664'})
2021-07-10 14:58:19,145 p=22335 u=student n=ansible | changed: [master-1] => (item={'src': '/home/student/k8s-certs/ca.pem', 'dest': '/var/lib/kubernetes/ca.pem', 'mode': '0664'})
2021-07-10 14:58:19,249 p=22335 u=student n=ansible | changed: [master-3] => (item={'src': '/home/student/k8s-certs/ca.pem', 'dest': '/var/lib/kubernetes/ca.pem', 'mode': '0664'})
2021-07-10 14:58:19,965 p=22335 u=student n=ansible | changed: [master-1] => (item={'src': '/home/student/k8s-certs/ca-key.pem', 'dest': '/var/lib/kubernetes/ca-key.pem', 'mode': '0600'})
2021-07-10 14:58:19,982 p=22335 u=student n=ansible | changed: [master-2] => (item={'src': '/home/student/k8s-certs/ca-key.pem', 'dest': '/var/lib/kubernetes/ca-key.pem', 'mode': '0600'})
2021-07-10 14:58:20,038 p=22335 u=student n=ansible | changed: [master-3] => (item={'src': '/home/student/k8s-certs/ca-key.pem', 'dest': '/var/lib/kubernetes/ca-key.pem', 'mode': '0600'})
2021-07-10 14:58:20,784 p=22335 u=student n=ansible | changed: [master-1] => (item={'src': '/home/student/k8s-certs/kubernetes.pem', 'dest': '/var/lib/kubernetes/kubernetes.pem', 'mode': '0664'})
2021-07-10 14:58:20,816 p=22335 u=student n=ansible | changed: [master-2] => (item={'src': '/home/student/k8s-certs/kubernetes.pem', 'dest': '/var/lib/kubernetes/kubernetes.pem', 'mode': '0664'})
2021-07-10 14:58:20,834 p=22335 u=student n=ansible | changed: [master-3] => (item={'src': '/home/student/k8s-certs/kubernetes.pem', 'dest': '/var/lib/kubernetes/kubernetes.pem', 'mode': '0664'})
2021-07-10 14:58:21,572 p=22335 u=student n=ansible | changed: [master-1] => (item={'src': '/home/student/k8s-certs/kubernetes-key.pem', 'dest': '/var/lib/kubernetes/kubernetes-key.pem', 'mode': '0600'})
2021-07-10 14:58:21,647 p=22335 u=student n=ansible | changed: [master-3] => (item={'src': '/home/student/k8s-certs/kubernetes-key.pem', 'dest': '/var/lib/kubernetes/kubernetes-key.pem', 'mode': '0600'})
2021-07-10 14:58:21,658 p=22335 u=student n=ansible | changed: [master-2] => (item={'src': '/home/student/k8s-certs/kubernetes-key.pem', 'dest': '/var/lib/kubernetes/kubernetes-key.pem', 'mode': '0600'})
2021-07-10 14:58:22,431 p=22335 u=student n=ansible | changed: [master-1] => (item={'src': '/home/student/k8s-config/encryption-config.yaml', 'dest': '/var/lib/kubernetes/encryption-config.yaml', 'mode': '0600'})
2021-07-10 14:58:22,457 p=22335 u=student n=ansible | changed: [master-3] => (item={'src': '/home/student/k8s-config/encryption-config.yaml', 'dest': '/var/lib/kubernetes/encryption-config.yaml', 'mode': '0600'})
2021-07-10 14:58:22,461 p=22335 u=student n=ansible | changed: [master-2] => (item={'src': '/home/student/k8s-config/encryption-config.yaml', 'dest': '/var/lib/kubernetes/encryption-config.yaml', 'mode': '0600'})
2021-07-10 14:58:23,251 p=22335 u=student n=ansible | changed: [master-2] => (item={'src': '/home/student/k8s-config/kube-scheduler.yaml', 'dest': '/var/lib/kubernetes/kube-scheduler.yaml', 'mode': '0664'})
2021-07-10 14:58:23,255 p=22335 u=student n=ansible | changed: [master-1] => (item={'src': '/home/student/k8s-config/kube-scheduler.yaml', 'dest': '/var/lib/kubernetes/kube-scheduler.yaml', 'mode': '0664'})
2021-07-10 14:58:23,304 p=22335 u=student n=ansible | changed: [master-3] => (item={'src': '/home/student/k8s-config/kube-scheduler.yaml', 'dest': '/var/lib/kubernetes/kube-scheduler.yaml', 'mode': '0664'})
2021-07-10 14:58:24,064 p=22335 u=student n=ansible | changed: [master-2] => (item={'src': '/home/student/k8s-config/kube-scheduler.kubeconfig', 'dest': '/var/lib/kubernetes/kube-scheduler.kubeconfig', 'mode': '0664'})
2021-07-10 14:58:24,065 p=22335 u=student n=ansible | changed: [master-1] => (item={'src': '/home/student/k8s-config/kube-scheduler.kubeconfig', 'dest': '/var/lib/kubernetes/kube-scheduler.kubeconfig', 'mode': '0664'})
2021-07-10 14:58:24,110 p=22335 u=student n=ansible | changed: [master-3] => (item={'src': '/home/student/k8s-config/kube-scheduler.kubeconfig', 'dest': '/var/lib/kubernetes/kube-scheduler.kubeconfig', 'mode': '0664'})
2021-07-10 14:58:24,875 p=22335 u=student n=ansible | changed: [master-1] => (item={'src': '/home/student/k8s-config/kube-controller-manager.kubeconfig', 'dest': '/var/lib/kubernetes/kube-controller-manager.kubeconfig', 'mode': '0664'})
2021-07-10 14:58:24,885 p=22335 u=student n=ansible | changed: [master-3] => (item={'src': '/home/student/k8s-config/kube-controller-manager.kubeconfig', 'dest': '/var/lib/kubernetes/kube-controller-manager.kubeconfig', 'mode': '0664'})
2021-07-10 14:58:24,892 p=22335 u=student n=ansible | changed: [master-2] => (item={'src': '/home/student/k8s-config/kube-controller-manager.kubeconfig', 'dest': '/var/lib/kubernetes/kube-controller-manager.kubeconfig', 'mode': '0664'})
2021-07-10 14:58:25,679 p=22335 u=student n=ansible | changed: [master-2] => (item={'src': '/home/student/k8s-certs/kube-controller-manager-key.pem', 'dest': '/var/lib/kubernetes/kube-controller-manager-key.pem', 'mode': '0600'})
2021-07-10 14:58:25,707 p=22335 u=student n=ansible | changed: [master-3] => (item={'src': '/home/student/k8s-certs/kube-controller-manager-key.pem', 'dest': '/var/lib/kubernetes/kube-controller-manager-key.pem', 'mode': '0600'})
2021-07-10 14:58:25,713 p=22335 u=student n=ansible | changed: [master-1] => (item={'src': '/home/student/k8s-certs/kube-controller-manager-key.pem', 'dest': '/var/lib/kubernetes/kube-controller-manager-key.pem', 'mode': '0600'})
2021-07-10 14:58:26,482 p=22335 u=student n=ansible | changed: [master-2] => (item={'src': '/home/student/k8s-certs/kube-controller-manager.pem', 'dest': '/var/lib/kubernetes/kube-controller-manager.pem', 'mode': '0664'})
2021-07-10 14:58:26,530 p=22335 u=student n=ansible | changed: [master-1] => (item={'src': '/home/student/k8s-certs/kube-controller-manager.pem', 'dest': '/var/lib/kubernetes/kube-controller-manager.pem', 'mode': '0664'})
2021-07-10 14:58:26,559 p=22335 u=student n=ansible | changed: [master-3] => (item={'src': '/home/student/k8s-certs/kube-controller-manager.pem', 'dest': '/var/lib/kubernetes/kube-controller-manager.pem', 'mode': '0664'})
2021-07-10 14:58:27,298 p=22335 u=student n=ansible | changed: [master-2] => (item={'src': '/home/student/k8s-certs/front-proxy-client-key.pem', 'dest': '/var/lib/kubernetes/front-proxy-client-key.pem', 'mode': '0600'})
2021-07-10 14:58:27,316 p=22335 u=student n=ansible | changed: [master-1] => (item={'src': '/home/student/k8s-certs/front-proxy-client-key.pem', 'dest': '/var/lib/kubernetes/front-proxy-client-key.pem', 'mode': '0600'})
2021-07-10 14:58:27,367 p=22335 u=student n=ansible | changed: [master-3] => (item={'src': '/home/student/k8s-certs/front-proxy-client-key.pem', 'dest': '/var/lib/kubernetes/front-proxy-client-key.pem', 'mode': '0600'})
2021-07-10 14:58:28,089 p=22335 u=student n=ansible | changed: [master-2] => (item={'src': '/home/student/k8s-certs/front-proxy-client.pem', 'dest': '/var/lib/kubernetes/front-proxy-client.pem', 'mode': '0664'})
2021-07-10 14:58:28,152 p=22335 u=student n=ansible | changed: [master-1] => (item={'src': '/home/student/k8s-certs/front-proxy-client.pem', 'dest': '/var/lib/kubernetes/front-proxy-client.pem', 'mode': '0664'})
2021-07-10 14:58:28,217 p=22335 u=student n=ansible | changed: [master-3] => (item={'src': '/home/student/k8s-certs/front-proxy-client.pem', 'dest': '/var/lib/kubernetes/front-proxy-client.pem', 'mode': '0664'})
2021-07-10 14:58:32,651 p=22335 u=student n=ansible | TASK [master_install : Download the master service binaries] ***************************************************
2021-07-10 14:58:32,654 p=22335 u=student n=ansible | changed: [master-1] => (item=Kubernetes API Server -> /usr/local/bin/kube-apiserver)
2021-07-10 14:58:33,252 p=22335 u=student n=ansible | changed: [master-2] => (item=Kubernetes API Server -> /usr/local/bin/kube-apiserver)
2021-07-10 14:58:33,288 p=22335 u=student n=ansible | changed: [master-3] => (item=Kubernetes API Server -> /usr/local/bin/kube-apiserver)
2021-07-10 14:58:37,172 p=22335 u=student n=ansible | changed: [master-2] => (item=Kubernetes Manager -> /usr/local/bin/kube-controller-manager)
2021-07-10 14:58:37,519 p=22335 u=student n=ansible | changed: [master-1] => (item=Kubernetes Manager -> /usr/local/bin/kube-controller-manager)
2021-07-10 14:58:37,822 p=22335 u=student n=ansible | changed: [master-3] => (item=Kubernetes Manager -> /usr/local/bin/kube-controller-manager)
2021-07-10 14:58:39,372 p=22335 u=student n=ansible | changed: [master-2] => (item=Kubernetes Scheduler -> /usr/local/bin/kube-scheduler)
2021-07-10 14:58:39,443 p=22335 u=student n=ansible | changed: [master-1] => (item=Kubernetes Scheduler -> /usr/local/bin/kube-scheduler)
2021-07-10 14:58:40,089 p=22335 u=student n=ansible | changed: [master-3] => (item=Kubernetes Scheduler -> /usr/local/bin/kube-scheduler)
2021-07-10 14:58:41,178 p=22335 u=student n=ansible | TASK [master_install : Push the config files for the master services] ******************************************
2021-07-10 14:58:41,179 p=22335 u=student n=ansible | changed: [master-1] => (item=Kubernetes API Server -> /etc/systemd/system/kube-apiserver.service)
2021-07-10 14:58:41,216 p=22335 u=student n=ansible | changed: [master-2] => (item=Kubernetes API Server -> /etc/systemd/system/kube-apiserver.service)
2021-07-10 14:58:41,261 p=22335 u=student n=ansible | changed: [master-3] => (item=Kubernetes API Server -> /etc/systemd/system/kube-apiserver.service)
2021-07-10 14:58:42,001 p=22335 u=student n=ansible | changed: [master-1] => (item=Kubernetes Manager -> /etc/systemd/system/kube-controller-manager.service)
2021-07-10 14:58:42,008 p=22335 u=student n=ansible | changed: [master-2] => (item=Kubernetes Manager -> /etc/systemd/system/kube-controller-manager.service)
2021-07-10 14:58:42,058 p=22335 u=student n=ansible | changed: [master-3] => (item=Kubernetes Manager -> /etc/systemd/system/kube-controller-manager.service)
2021-07-10 14:58:42,830 p=22335 u=student n=ansible | changed: [master-1] => (item=Kubernetes Scheduler -> /etc/systemd/system/kube-scheduler.service)
2021-07-10 14:58:42,832 p=22335 u=student n=ansible | changed: [master-2] => (item=Kubernetes Scheduler -> /etc/systemd/system/kube-scheduler.service)
2021-07-10 14:58:42,863 p=22335 u=student n=ansible | changed: [master-3] => (item=Kubernetes Scheduler -> /etc/systemd/system/kube-scheduler.service)
2021-07-10 14:58:44,979 p=22335 u=student n=ansible | TASK [master_install : Download Kubernetes kubectl] ************************************************************
2021-07-10 14:58:44,981 p=22335 u=student n=ansible | changed: [master-2] => (item={'url': 'https://storage.googleapis.com/kubernetes-release/release/v1.18.0/bin/linux/amd64/kubectl', 'dest': '/usr/local/bin/kubectl', 'mode': '0755'})
2021-07-10 14:58:45,413 p=22335 u=student n=ansible | changed: [master-3] => (item={'url': 'https://storage.googleapis.com/kubernetes-release/release/v1.18.0/bin/linux/amd64/kubectl', 'dest': '/usr/local/bin/kubectl', 'mode': '0755'})
2021-07-10 14:58:45,416 p=22335 u=student n=ansible | changed: [master-1] => (item={'url': 'https://storage.googleapis.com/kubernetes-release/release/v1.18.0/bin/linux/amd64/kubectl', 'dest': '/usr/local/bin/kubectl', 'mode': '0755'})
2021-07-10 14:58:46,177 p=22335 u=student n=ansible | TASK [master_install : Reload systemd manager] *****************************************************************
2021-07-10 14:58:46,178 p=22335 u=student n=ansible | ok: [master-2]
2021-07-10 14:58:46,183 p=22335 u=student n=ansible | ok: [master-1]
2021-07-10 14:58:46,268 p=22335 u=student n=ansible | ok: [master-3]
2021-07-10 14:58:47,528 p=22335 u=student n=ansible | TASK [master_install : Reload the daemon for the services] *****************************************************
2021-07-10 14:58:47,529 p=22335 u=student n=ansible | changed: [master-3] => (item=Kubernetes API Server Service -> kube-apiserver)
2021-07-10 14:58:47,545 p=22335 u=student n=ansible | changed: [master-2] => (item=Kubernetes API Server Service -> kube-apiserver)
2021-07-10 14:58:47,570 p=22335 u=student n=ansible | changed: [master-1] => (item=Kubernetes API Server Service -> kube-apiserver)
2021-07-10 14:58:48,327 p=22335 u=student n=ansible | changed: [master-1] => (item=Kubernetes Manager Service -> kube-controller-manager)
2021-07-10 14:58:48,374 p=22335 u=student n=ansible | changed: [master-3] => (item=Kubernetes Manager Service -> kube-controller-manager)
2021-07-10 14:58:48,385 p=22335 u=student n=ansible | changed: [master-2] => (item=Kubernetes Manager Service -> kube-controller-manager)
2021-07-10 14:58:49,203 p=22335 u=student n=ansible | changed: [master-1] => (item=Kubernetes Scheduler Service -> kube-scheduler)
2021-07-10 14:58:49,246 p=22335 u=student n=ansible | changed: [master-2] => (item=Kubernetes Scheduler Service -> kube-scheduler)
2021-07-10 14:58:49,334 p=22335 u=student n=ansible | changed: [master-3] => (item=Kubernetes Scheduler Service -> kube-scheduler)
2021-07-10 14:58:49,387 p=26631 u=student n=ansible | Pausing for 90 seconds
2021-07-10 14:58:49,387 p=26631 u=student n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2021-07-10 15:00:19,393 p=22335 u=student n=ansible | TASK [master_install : Allow Kubernetes API Server to fully initialize] ****************************************
2021-07-10 15:00:19,395 p=22335 u=student n=ansible | ok: [master-1]
2021-07-10 15:00:21,435 p=22335 u=student n=ansible | TASK [master_install : Create a route from masters to the service ip cidr] *************************************
2021-07-10 15:00:21,436 p=22335 u=student n=ansible | changed: [master-1]
2021-07-10 15:00:21,442 p=22335 u=student n=ansible | changed: [master-3]
2021-07-10 15:00:21,445 p=22335 u=student n=ansible | changed: [master-2]
2021-07-10 15:00:21,912 p=22335 u=student n=ansible | TASK [master_install : execute ifup script to insert route from masters to service ip cidr] ********************
2021-07-10 15:00:21,913 p=22335 u=student n=ansible | changed: [master-1]
2021-07-10 15:00:21,970 p=22335 u=student n=ansible | changed: [master-3]
2021-07-10 15:00:21,989 p=22335 u=student n=ansible | changed: [master-2]
2021-07-10 15:00:22,058 p=22335 u=student n=ansible | PLAY [deploy load balancers] ***********************************************************************************
2021-07-10 15:00:23,853 p=22335 u=student n=ansible | TASK [nginx_localhost_load_balancer : Install nginx for localhost loadbalancing access to the HA masters] ******
2021-07-10 15:00:23,854 p=22335 u=student n=ansible | ok: [localhost]
2021-07-10 15:00:32,763 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 15:00:32,848 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 15:00:32,851 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 15:00:33,934 p=22335 u=student n=ansible | TASK [nginx_localhost_load_balancer : Create the config file for nginx] ****************************************
2021-07-10 15:00:33,936 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 15:00:34,075 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 15:00:34,152 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 15:00:34,163 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 15:00:35,216 p=22335 u=student n=ansible | TASK [nginx_localhost_load_balancer : Start the nginx service] *************************************************
2021-07-10 15:00:35,217 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 15:00:35,275 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 15:00:35,277 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 15:00:35,279 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 15:00:36,390 p=22335 u=student n=ansible | TASK [trusted_ca : Copy k8s CA] ********************************************************************************
2021-07-10 15:00:36,391 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 15:00:36,402 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 15:00:36,558 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 15:00:36,568 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 15:00:38,369 p=22335 u=student n=ansible | TASK [trusted_ca : Update Trusted Certificates] ****************************************************************
2021-07-10 15:00:38,370 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 15:00:38,403 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 15:00:38,410 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 15:00:40,665 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 15:00:40,733 p=22335 u=student n=ansible | PLAY [configure rbac] ******************************************************************************************
2021-07-10 15:00:41,747 p=22335 u=student n=ansible | TASK [Gathering Facts] *****************************************************************************************
2021-07-10 15:00:41,748 p=22335 u=student n=ansible | ok: [localhost]
2021-07-10 15:00:42,280 p=22335 u=student n=ansible | TASK [rbac : Copy rbac cluster-role to masters] ****************************************************************
2021-07-10 15:00:42,281 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 15:00:43,637 p=22335 u=student n=ansible | TASK [rbac : Apply the RBAC rules] *****************************************************************************
2021-07-10 15:00:43,638 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 15:00:44,122 p=22335 u=student n=ansible | TASK [rbac : Copy the cluster role bind file to the masters] ***************************************************
2021-07-10 15:00:44,123 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 15:00:44,756 p=22335 u=student n=ansible | TASK [rbac : Bind the clusterrole to the kubernetes user.] *****************************************************
2021-07-10 15:00:44,758 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 15:00:44,799 p=22335 u=student n=ansible | PLAY [deploy k8s nodes] ****************************************************************************************
2021-07-10 15:00:45,257 p=22335 u=student n=ansible | TASK [node_install : create directories for the kubernetes nodes] **********************************************
2021-07-10 15:00:45,258 p=22335 u=student n=ansible | changed: [node-2] => (item=/etc/cni/net.d)
2021-07-10 15:00:45,258 p=22335 u=student n=ansible | changed: [node-1] => (item=/etc/cni/net.d)
2021-07-10 15:00:45,328 p=22335 u=student n=ansible | changed: [node-3] => (item=/etc/cni/net.d)
2021-07-10 15:00:45,651 p=22335 u=student n=ansible | changed: [node-2] => (item=/opt/cni/bin)
2021-07-10 15:00:45,676 p=22335 u=student n=ansible | changed: [node-1] => (item=/opt/cni/bin)
2021-07-10 15:00:45,714 p=22335 u=student n=ansible | changed: [node-3] => (item=/opt/cni/bin)
2021-07-10 15:00:46,084 p=22335 u=student n=ansible | changed: [node-2] => (item=/var/lib/kubelet)
2021-07-10 15:00:46,086 p=22335 u=student n=ansible | changed: [node-1] => (item=/var/lib/kubelet)
2021-07-10 15:00:46,122 p=22335 u=student n=ansible | changed: [node-3] => (item=/var/lib/kubelet)
2021-07-10 15:00:46,501 p=22335 u=student n=ansible | changed: [node-1] => (item=/var/lib/kube-proxy)
2021-07-10 15:00:46,516 p=22335 u=student n=ansible | changed: [node-3] => (item=/var/lib/kube-proxy)
2021-07-10 15:00:46,582 p=22335 u=student n=ansible | changed: [node-2] => (item=/var/lib/kube-proxy)
2021-07-10 15:00:46,942 p=22335 u=student n=ansible | changed: [node-1] => (item=/var/lib/kubernetes)
2021-07-10 15:00:46,944 p=22335 u=student n=ansible | changed: [node-3] => (item=/var/lib/kubernetes)
2021-07-10 15:00:47,016 p=22335 u=student n=ansible | changed: [node-2] => (item=/var/lib/kubernetes)
2021-07-10 15:00:47,364 p=22335 u=student n=ansible | changed: [node-1] => (item=/var/run/kubernetes)
2021-07-10 15:00:47,374 p=22335 u=student n=ansible | changed: [node-3] => (item=/var/run/kubernetes)
2021-07-10 15:00:47,441 p=22335 u=student n=ansible | changed: [node-2] => (item=/var/run/kubernetes)
2021-07-10 15:00:47,774 p=22335 u=student n=ansible | changed: [node-1] => (item=/etc/containerd/)
2021-07-10 15:00:47,810 p=22335 u=student n=ansible | changed: [node-3] => (item=/etc/containerd/)
2021-07-10 15:00:47,818 p=22335 u=student n=ansible | changed: [node-2] => (item=/etc/containerd/)
2021-07-10 15:00:48,835 p=22335 u=student n=ansible | TASK [node_install : Copy Certs to Nodes] **********************************************************************
2021-07-10 15:00:48,836 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubernetes/ca.pem)
2021-07-10 15:00:48,841 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubernetes/ca.pem)
2021-07-10 15:00:48,858 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubernetes/ca.pem)
2021-07-10 15:00:49,646 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubernetes/ca-key.pem)
2021-07-10 15:00:49,664 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubernetes/ca-key.pem)
2021-07-10 15:00:49,671 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubernetes/ca-key.pem)
2021-07-10 15:00:50,491 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubernetes/kubernetes.pem)
2021-07-10 15:00:50,496 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubernetes/kubernetes.pem)
2021-07-10 15:00:50,504 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubernetes/kubernetes.pem)
2021-07-10 15:00:51,308 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubernetes/kubernetes-key.pem)
2021-07-10 15:00:51,310 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubernetes/kubernetes-key.pem)
2021-07-10 15:00:51,319 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubernetes/kubernetes-key.pem)
2021-07-10 15:00:52,128 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubernetes/encryption-config.yaml)
2021-07-10 15:00:52,142 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubernetes/encryption-config.yaml)
2021-07-10 15:00:52,146 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubernetes/encryption-config.yaml)
2021-07-10 15:00:52,933 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubernetes/kube-scheduler.yaml)
2021-07-10 15:00:52,943 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubernetes/kube-scheduler.yaml)
2021-07-10 15:00:52,948 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubernetes/kube-scheduler.yaml)
2021-07-10 15:00:53,818 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubernetes/kube-scheduler.kubeconfig)
2021-07-10 15:00:53,822 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubernetes/kube-scheduler.kubeconfig)
2021-07-10 15:00:53,828 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubernetes/kube-scheduler.kubeconfig)
2021-07-10 15:00:54,620 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubernetes/kube-controller-manager.kubeconfig)
2021-07-10 15:00:54,639 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubernetes/kube-controller-manager.kubeconfig)
2021-07-10 15:00:54,656 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubernetes/kube-controller-manager.kubeconfig)
2021-07-10 15:00:55,417 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubernetes/kube-controller-manager-key.pem)
2021-07-10 15:00:55,448 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubernetes/kube-controller-manager-key.pem)
2021-07-10 15:00:55,503 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubernetes/kube-controller-manager-key.pem)
2021-07-10 15:00:56,206 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubernetes/kube-controller-manager.pem)
2021-07-10 15:00:56,211 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubernetes/kube-controller-manager.pem)
2021-07-10 15:00:56,316 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubernetes/kube-controller-manager.pem)
2021-07-10 15:00:56,972 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubernetes/front-proxy-client-key.pem)
2021-07-10 15:00:56,981 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubernetes/front-proxy-client-key.pem)
2021-07-10 15:00:57,079 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubernetes/front-proxy-client-key.pem)
2021-07-10 15:00:57,782 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubernetes/front-proxy-client.pem)
2021-07-10 15:00:57,789 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubernetes/front-proxy-client.pem)
2021-07-10 15:00:57,880 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubernetes/front-proxy-client.pem)
2021-07-10 15:00:58,896 p=22335 u=student n=ansible | TASK [node_install : Copy certs/keys/kubeconfigs to Nodes] *****************************************************
2021-07-10 15:00:58,896 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubelet/node-2.pem)
2021-07-10 15:00:58,899 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubelet/node-1.pem)
2021-07-10 15:00:58,966 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubelet/node-3.pem)
2021-07-10 15:00:59,691 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubelet/node-2-key.pem)
2021-07-10 15:00:59,708 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubelet/node-1-key.pem)
2021-07-10 15:00:59,759 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubelet/node-3-key.pem)
2021-07-10 15:01:00,523 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kube-proxy/kubeconfig)
2021-07-10 15:01:00,527 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kube-proxy/kubeconfig)
2021-07-10 15:01:00,534 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kube-proxy/kubeconfig)
2021-07-10 15:01:01,264 p=22335 u=student n=ansible | changed: [node-1] => (item=File = /var/lib/kubelet/kubeconfig)
2021-07-10 15:01:01,289 p=22335 u=student n=ansible | changed: [node-2] => (item=File = /var/lib/kubelet/kubeconfig)
2021-07-10 15:01:01,334 p=22335 u=student n=ansible | changed: [node-3] => (item=File = /var/lib/kubelet/kubeconfig)
2021-07-10 15:01:05,995 p=22335 u=student n=ansible | TASK [node_install : Install kubernetes apt dependencies on nodes] *********************************************
2021-07-10 15:01:05,996 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 15:01:05,998 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 15:01:06,070 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 15:01:08,561 p=22335 u=student n=ansible | TASK [node_install : Download Kubernetes kubectl] **************************************************************
2021-07-10 15:01:08,562 p=22335 u=student n=ansible | changed: [node-2] => (item={'url': 'https://storage.googleapis.com/kubernetes-release/release/v1.18.0/bin/linux/amd64/kubectl', 'dest': '/usr/local/bin/kubectl', 'mode': '0755'})
2021-07-10 15:01:08,696 p=22335 u=student n=ansible | changed: [node-3] => (item={'url': 'https://storage.googleapis.com/kubernetes-release/release/v1.18.0/bin/linux/amd64/kubectl', 'dest': '/usr/local/bin/kubectl', 'mode': '0755'})
2021-07-10 15:01:08,710 p=22335 u=student n=ansible | changed: [node-1] => (item={'url': 'https://storage.googleapis.com/kubernetes-release/release/v1.18.0/bin/linux/amd64/kubectl', 'dest': '/usr/local/bin/kubectl', 'mode': '0755'})
2021-07-10 15:01:10,885 p=22335 u=student n=ansible | TASK [node_install : Download the Node binaries] ***************************************************************
2021-07-10 15:01:10,886 p=22335 u=student n=ansible | changed: [node-2] => (item=k8s v1.18.0 - /usr/local/bin/kube-proxy)
2021-07-10 15:01:10,936 p=22335 u=student n=ansible | changed: [node-1] => (item=k8s v1.18.0 - /usr/local/bin/kube-proxy)
2021-07-10 15:01:10,974 p=22335 u=student n=ansible | changed: [node-3] => (item=k8s v1.18.0 - /usr/local/bin/kube-proxy)
2021-07-10 15:01:15,993 p=22335 u=student n=ansible | changed: [node-2] => (item=k8s v1.18.0 - /usr/local/bin/kubelet)
2021-07-10 15:01:16,014 p=22335 u=student n=ansible | changed: [node-1] => (item=k8s v1.18.0 - /usr/local/bin/kubelet)
2021-07-10 15:01:16,024 p=22335 u=student n=ansible | changed: [node-3] => (item=k8s v1.18.0 - /usr/local/bin/kubelet)
2021-07-10 15:01:17,504 p=22335 u=student n=ansible | changed: [node-2] => (item=k8s v1.18.0 - /usr/local/bin/runsc)
2021-07-10 15:01:17,506 p=22335 u=student n=ansible | changed: [node-3] => (item=k8s v1.18.0 - /usr/local/bin/runsc)
2021-07-10 15:01:17,600 p=22335 u=student n=ansible | changed: [node-1] => (item=k8s v1.18.0 - /usr/local/bin/runsc)
2021-07-10 15:01:18,804 p=22335 u=student n=ansible | changed: [node-1] => (item=k8s v1.18.0 - /usr/local/bin/runc)
2021-07-10 15:01:18,850 p=22335 u=student n=ansible | changed: [node-2] => (item=k8s v1.18.0 - /usr/local/bin/runc)
2021-07-10 15:01:18,859 p=22335 u=student n=ansible | changed: [node-3] => (item=k8s v1.18.0 - /usr/local/bin/runc)
2021-07-10 15:01:19,559 p=22335 u=student n=ansible | ok: [node-1] => (item=k8s v1.18.0 - /usr/local/bin/kubectl)
2021-07-10 15:01:19,570 p=22335 u=student n=ansible | ok: [node-3] => (item=k8s v1.18.0 - /usr/local/bin/kubectl)
2021-07-10 15:01:19,582 p=22335 u=student n=ansible | ok: [node-2] => (item=k8s v1.18.0 - /usr/local/bin/kubectl)
2021-07-10 15:01:22,100 p=22335 u=student n=ansible | TASK [node_install : Download and unarchive Node dependencies] *************************************************
2021-07-10 15:01:22,101 p=22335 u=student n=ansible | changed: [node-1] => (item=crictl)
2021-07-10 15:01:22,108 p=22335 u=student n=ansible | changed: [node-3] => (item=crictl)
2021-07-10 15:01:22,173 p=22335 u=student n=ansible | changed: [node-2] => (item=crictl)
2021-07-10 15:01:27,028 p=22335 u=student n=ansible | changed: [node-1] => (item=cni-plugins)
2021-07-10 15:01:27,110 p=22335 u=student n=ansible | changed: [node-2] => (item=cni-plugins)
2021-07-10 15:01:27,145 p=22335 u=student n=ansible | changed: [node-3] => (item=cni-plugins)
2021-07-10 15:01:33,225 p=22335 u=student n=ansible | changed: [node-3] => (item=containerd)
2021-07-10 15:01:33,416 p=22335 u=student n=ansible | changed: [node-1] => (item=containerd)
2021-07-10 15:01:33,583 p=22335 u=student n=ansible | changed: [node-2] => (item=containerd)
2021-07-10 15:01:34,651 p=22335 u=student n=ansible | TASK [node_install : Create the 99-loopback.conf file for each node.] ******************************************
2021-07-10 15:01:34,652 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 15:01:34,672 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 15:01:34,746 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 15:01:35,421 p=22335 u=student n=ansible | TASK [node_install : Enable br_netfilter kernel module] ********************************************************
2021-07-10 15:01:35,421 p=22335 u=student n=ansible | changed: [node-2] => (item=br_netfilter)
2021-07-10 15:01:35,423 p=22335 u=student n=ansible | changed: [node-1] => (item=br_netfilter)
2021-07-10 15:01:35,426 p=22335 u=student n=ansible | changed: [node-3] => (item=br_netfilter)
2021-07-10 15:01:35,828 p=22335 u=student n=ansible | changed: [node-1] => (item=overlay)
2021-07-10 15:01:35,831 p=22335 u=student n=ansible | changed: [node-2] => (item=overlay)
2021-07-10 15:01:35,855 p=22335 u=student n=ansible | changed: [node-3] => (item=overlay)
2021-07-10 15:01:36,530 p=22335 u=student n=ansible | TASK [node_install : Enable packet forwarding on the node] *****************************************************
2021-07-10 15:01:36,532 p=22335 u=student n=ansible | changed: [node-1] => (item=net.ipv4.ip_forward)
2021-07-10 15:01:36,533 p=22335 u=student n=ansible | changed: [node-3] => (item=net.ipv4.ip_forward)
2021-07-10 15:01:36,535 p=22335 u=student n=ansible | changed: [node-2] => (item=net.ipv4.ip_forward)
2021-07-10 15:01:36,957 p=22335 u=student n=ansible | changed: [node-1] => (item=net.bridge.bridge-nf-call-iptables)
2021-07-10 15:01:36,959 p=22335 u=student n=ansible | changed: [node-2] => (item=net.bridge.bridge-nf-call-iptables)
2021-07-10 15:01:36,997 p=22335 u=student n=ansible | changed: [node-3] => (item=net.bridge.bridge-nf-call-iptables)
2021-07-10 15:01:37,394 p=22335 u=student n=ansible | changed: [node-2] => (item=net.bridge.bridge-nf-call-ip6tables)
2021-07-10 15:01:37,403 p=22335 u=student n=ansible | changed: [node-1] => (item=net.bridge.bridge-nf-call-ip6tables)
2021-07-10 15:01:37,415 p=22335 u=student n=ansible | changed: [node-3] => (item=net.bridge.bridge-nf-call-ip6tables)
2021-07-10 15:01:38,234 p=22335 u=student n=ansible | TASK [node_install : Persist br_netfilter kernell module loading (on reboot)] **********************************
2021-07-10 15:01:38,236 p=22335 u=student n=ansible | changed: [node-1] => (item=br_netfilter)
2021-07-10 15:01:38,283 p=22335 u=student n=ansible | changed: [node-2] => (item=br_netfilter)
2021-07-10 15:01:38,314 p=22335 u=student n=ansible | changed: [node-3] => (item=br_netfilter)
2021-07-10 15:01:39,069 p=22335 u=student n=ansible | changed: [node-1] => (item=overlay)
2021-07-10 15:01:39,078 p=22335 u=student n=ansible | changed: [node-2] => (item=overlay)
2021-07-10 15:01:39,080 p=22335 u=student n=ansible | changed: [node-3] => (item=overlay)
2021-07-10 15:01:39,985 p=22335 u=student n=ansible | TASK [node_install : Create node configuration files] **********************************************************
2021-07-10 15:01:39,987 p=22335 u=student n=ansible | changed: [node-1] => (item=containerd)
2021-07-10 15:01:40,006 p=22335 u=student n=ansible | changed: [node-2] => (item=containerd)
2021-07-10 15:01:40,026 p=22335 u=student n=ansible | changed: [node-3] => (item=containerd)
2021-07-10 15:01:40,830 p=22335 u=student n=ansible | changed: [node-1] => (item=kubelet-config)
2021-07-10 15:01:40,866 p=22335 u=student n=ansible | changed: [node-2] => (item=kubelet-config)
2021-07-10 15:01:40,874 p=22335 u=student n=ansible | changed: [node-3] => (item=kubelet-config)
2021-07-10 15:01:41,667 p=22335 u=student n=ansible | changed: [node-1] => (item=kube-proxy)
2021-07-10 15:01:41,688 p=22335 u=student n=ansible | changed: [node-3] => (item=kube-proxy)
2021-07-10 15:01:41,696 p=22335 u=student n=ansible | changed: [node-2] => (item=kube-proxy)
2021-07-10 15:01:42,511 p=22335 u=student n=ansible | TASK [node_install : Create the containerd service (systemd) file] *********************************************
2021-07-10 15:01:42,513 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 15:01:42,530 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 15:01:42,616 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 15:01:43,514 p=22335 u=student n=ansible | TASK [node_install : Update the containerd config file] ********************************************************
2021-07-10 15:01:43,516 p=22335 u=student n=ansible | changed: [node-1]
2021-07-10 15:01:43,521 p=22335 u=student n=ansible | changed: [node-3]
2021-07-10 15:01:43,642 p=22335 u=student n=ansible | changed: [node-2]
2021-07-10 15:01:44,558 p=22335 u=student n=ansible | TASK [node_install : Create the node services config files for each node] **************************************
2021-07-10 15:01:44,559 p=22335 u=student n=ansible | changed: [node-1] => (item=/etc/systemd/system/kube-proxy.service)
2021-07-10 15:01:44,563 p=22335 u=student n=ansible | changed: [node-2] => (item=/etc/systemd/system/kube-proxy.service)
2021-07-10 15:01:44,648 p=22335 u=student n=ansible | changed: [node-3] => (item=/etc/systemd/system/kube-proxy.service)
2021-07-10 15:01:45,374 p=22335 u=student n=ansible | changed: [node-2] => (item=/etc/systemd/system/kubelet.service)
2021-07-10 15:01:45,382 p=22335 u=student n=ansible | changed: [node-1] => (item=/etc/systemd/system/kubelet.service)
2021-07-10 15:01:45,418 p=22335 u=student n=ansible | changed: [node-3] => (item=/etc/systemd/system/kubelet.service)
2021-07-10 15:01:46,338 p=22335 u=student n=ansible | ok: [node-2] => (item=/etc/systemd/system/containerd.service)
2021-07-10 15:01:46,346 p=22335 u=student n=ansible | ok: [node-1] => (item=/etc/systemd/system/containerd.service)
2021-07-10 15:01:46,354 p=22335 u=student n=ansible | ok: [node-3] => (item=/etc/systemd/system/containerd.service)
2021-07-10 15:01:47,269 p=22335 u=student n=ansible | TASK [node_install : Reload systemctl daemons] *****************************************************************
2021-07-10 15:01:47,271 p=22335 u=student n=ansible | ok: [node-1]
2021-07-10 15:01:47,289 p=22335 u=student n=ansible | ok: [node-3]
2021-07-10 15:01:47,306 p=22335 u=student n=ansible | ok: [node-2]
2021-07-10 15:01:48,212 p=22335 u=student n=ansible | TASK [node_install : Enable k8s services] **********************************************************************
2021-07-10 15:01:48,213 p=22335 u=student n=ansible | changed: [node-1] => (item={'name': 'kube-proxy', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/kube-proxy.service.j2', 'service_path': '/etc/systemd/system/kube-proxy.service'})
2021-07-10 15:01:48,231 p=22335 u=student n=ansible | changed: [node-2] => (item={'name': 'kube-proxy', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/kube-proxy.service.j2', 'service_path': '/etc/systemd/system/kube-proxy.service'})
2021-07-10 15:01:48,337 p=22335 u=student n=ansible | changed: [node-3] => (item={'name': 'kube-proxy', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/kube-proxy.service.j2', 'service_path': '/etc/systemd/system/kube-proxy.service'})
2021-07-10 15:01:48,999 p=22335 u=student n=ansible | changed: [node-1] => (item={'name': 'kubelet', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/kubelet.service.j2', 'service_path': '/etc/systemd/system/kubelet.service'})
2021-07-10 15:01:49,068 p=22335 u=student n=ansible | changed: [node-2] => (item={'name': 'kubelet', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/kubelet.service.j2', 'service_path': '/etc/systemd/system/kubelet.service'})
2021-07-10 15:01:49,358 p=22335 u=student n=ansible | changed: [node-3] => (item={'name': 'kubelet', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/kubelet.service.j2', 'service_path': '/etc/systemd/system/kubelet.service'})
2021-07-10 15:01:49,810 p=22335 u=student n=ansible | changed: [node-1] => (item={'name': 'containerd', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/containerd.service.j2', 'service_path': '/etc/systemd/system/containerd.service'})
2021-07-10 15:01:49,906 p=22335 u=student n=ansible | changed: [node-2] => (item={'name': 'containerd', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/containerd.service.j2', 'service_path': '/etc/systemd/system/containerd.service'})
2021-07-10 15:01:50,183 p=22335 u=student n=ansible | changed: [node-3] => (item={'name': 'containerd', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/containerd.service.j2', 'service_path': '/etc/systemd/system/containerd.service'})
2021-07-10 15:01:50,863 p=22335 u=student n=ansible | TASK [node_install : Restart the k8s services] *****************************************************************
2021-07-10 15:01:50,864 p=22335 u=student n=ansible | changed: [node-1] => (item={'name': 'kube-proxy', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/kube-proxy.service.j2', 'service_path': '/etc/systemd/system/kube-proxy.service'})
2021-07-10 15:01:50,934 p=22335 u=student n=ansible | changed: [node-2] => (item={'name': 'kube-proxy', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/kube-proxy.service.j2', 'service_path': '/etc/systemd/system/kube-proxy.service'})
2021-07-10 15:01:50,979 p=22335 u=student n=ansible | changed: [node-3] => (item={'name': 'kube-proxy', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/kube-proxy.service.j2', 'service_path': '/etc/systemd/system/kube-proxy.service'})
2021-07-10 15:01:51,430 p=22335 u=student n=ansible | changed: [node-1] => (item={'name': 'kubelet', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/kubelet.service.j2', 'service_path': '/etc/systemd/system/kubelet.service'})
2021-07-10 15:01:51,564 p=22335 u=student n=ansible | changed: [node-3] => (item={'name': 'kubelet', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/kubelet.service.j2', 'service_path': '/etc/systemd/system/kubelet.service'})
2021-07-10 15:01:51,574 p=22335 u=student n=ansible | changed: [node-2] => (item={'name': 'kubelet', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/kubelet.service.j2', 'service_path': '/etc/systemd/system/kubelet.service'})
2021-07-10 15:01:58,343 p=22335 u=student n=ansible | changed: [node-1] => (item={'name': 'containerd', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/containerd.service.j2', 'service_path': '/etc/systemd/system/containerd.service'})
2021-07-10 15:01:58,436 p=22335 u=student n=ansible | changed: [node-2] => (item={'name': 'containerd', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/containerd.service.j2', 'service_path': '/etc/systemd/system/containerd.service'})
2021-07-10 15:01:58,469 p=22335 u=student n=ansible | changed: [node-3] => (item={'name': 'containerd', 'service_j2': '/home/student/git/kubernetes-the-alta3-way/roles/node_install/templates/containerd.service.j2', 'service_path': '/etc/systemd/system/containerd.service'})
2021-07-10 15:01:58,545 p=22335 u=student n=ansible | PLAY [deploy k8s services] *************************************************************************************
2021-07-10 15:01:59,394 p=22335 u=student n=ansible | TASK [calico : Generate a calico installation yaml files] ******************************************************
2021-07-10 15:01:59,395 p=22335 u=student n=ansible | changed: [localhost] => (item={'src': '/home/student/git/kubernetes-the-alta3-way/roles/calico/templates/calico-etcd.yaml.j2', 'dest': '/home/student/k8s-config/calico-etcd.yaml'})
2021-07-10 15:02:00,382 p=22335 u=student n=ansible | TASK [calico : Apply calico service] ***************************************************************************
2021-07-10 15:02:00,383 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 15:02:01,000 p=22335 u=student n=ansible | TASK [kube-dns : Generate a kube-dns installation yaml file] ***************************************************
2021-07-10 15:02:01,000 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 15:02:01,932 p=22335 u=student n=ansible | TASK [kube-dns : Apply kube-dns service] ***********************************************************************
2021-07-10 15:02:01,932 p=22335 u=student n=ansible | changed: [localhost]
2021-07-10 15:02:01,973 p=22335 u=student n=ansible | PLAY RECAP *****************************************************************************************************
2021-07-10 15:02:01,974 p=22335 u=student n=ansible | localhost                  : ok=47   changed=43   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-07-10 15:02:01,974 p=22335 u=student n=ansible | master-1                   : ok=26   changed=21   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-07-10 15:02:01,975 p=22335 u=student n=ansible | master-2                   : ok=25   changed=21   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-07-10 15:02:01,975 p=22335 u=student n=ansible | master-3                   : ok=25   changed=21   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-07-10 15:02:01,975 p=22335 u=student n=ansible | node-1                     : ok=30   changed=28   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-07-10 15:02:01,976 p=22335 u=student n=ansible | node-2                     : ok=30   changed=28   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-07-10 15:02:01,976 p=22335 u=student n=ansible | node-3                     : ok=30   changed=28   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
